#
# HTTPD Web Server and Apache Tomcat(ajp) Connector 
# the configuration of the server.
#
# Required modules: mod_jk (for the ajp handler),

# 1.
# Load Module jk_module 
<IfModule !mod_jk.c>
	LoadModule jk_module modules/mod_jk.so
</IfModule>

# 2.
# jk_module Global configuration of the server
<IfModule mod_jk.c>
	JkWorkersFile conf.d/workers.properties

	JkLogFile "|/app/jboss/jboss-ews-2.0/httpd/sbin/rotatelogs /app/jboss/jboss-ews-2.0/httpd/logs/modjk-log/mod-jk.log.%Y%m%d 86400"
	JkLogLevel debug
        JkLogStampFormat "[%Y %a %b %d %H:%M:%S]"	
	JKRequestLogFormat "%w %R %V %T %s %m %q %U"
        JkOptions +ForwardKeySize +ForwardURICompatUnparsed -ForwardDirectories

	JkMountFile conf.d/uriworkermap.properties
 	JkShmFile logs/modjk-log/mod-jk.shm
</IfModule>

# 3.
# Allow jk Connector server status reports generated by jkstatus,
# with the URL of http://servername/jkstatus
# Change the "127.0.0.1" to match your domain to enable.
<Location /jkstatus>
    jkmount jkstatus 
    Order deny,allow
    Deny from all
    Allow from all
</Location>
